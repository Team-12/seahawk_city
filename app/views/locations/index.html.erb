

<h1>This is the HOME PAGE</h1><br>
<h2>Map will be here</h2><br>

For testing, displaying list of sites:

<table class="table">
  <tr>
    <th> Name </th>
    <th> Description </th>
    <th> Latitude </th>
    <th> Longitude </th>
    <th> Street </th>
    <th> City </th>
    <th> State </th>
    <th> Zipcode </th>
    <th> Country </th>
    <th> Created </th>
    <th> Updated </th>
  </tr>
  <% @locations.each do |location| %>
    <tr>
      <td> <%= location.name %> </td>
      <td> <%= location.desc %> </td>
      <td> <%= location.latitude %> </td>
      <td> <%= location.longitude %> </td>
      <td> <%= location.address_street %> </td>
      <td> <%= location.address_city %> </td>
      <td> <%= location.address_state %> </td>
      <td> <%= location.address_zip %> </td>
      <td> <%= location.address_country %> </td>
      <td> <%= location.created_at %> </td>
      <td> <%= location.updated_at %> </td>
    </tr>
  <% end %>
</table>

<div style='width: 800px;'>
  <div id="map" style='width: 800px; height: 400px;'></div>
</div>

<script src="//maps.google.com/maps/api/js?v=3.13&amp;sensor=false&amp;libraries=geometry" type="text/javascript"></script>
<script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js' type='text/javascript'></script>
<script>

<% if @user %>
  handler = Gmaps.build('Google');
  handler.buildMap({
   provider: {
    zoom: 16
   },
   internal: {id: 'map'}}, function(){
    markers = handler.addMarkers(<%=raw @hash.to_json %>,
        {animation: google.maps.Animation.DROP}
      );
    // dont need the below 2 lines as I am forcing the map to center on Seattle, line 60
    //handler.bounds.extendWith(markers);
    //handler.fitMapToBounds();
    //handler.map.centerOn({lat:<%= @recent_checkin.latitude %>, lng: <%= @recent_checkin.longitude %>});


  });
<% else %>
  handler = Gmaps.build('Google');
  handler.buildMap({
   provider: {
    zoom: 11
   },
   internal: {id: 'map'}}, function(){
    markers = handler.addMarkers(<%=raw @hash.to_json %>,
        {animation: google.maps.Animation.DROP}
      );
    // dont need the below 2 lines as I am forcing the map to center on Seattle, line 60
    //handler.bounds.extendWith(markers);
    //handler.fitMapToBounds();
    handler.map.centerOn({lat: 47.6097, lng: -122.3331});

  });
<% end %>



</script>